---
title: 'MTR (my traceroute) を使う'
description: 'MTR は、<code translate="No">traceroute</code>標準の容量と<code translate="No">ping</code>ネットワークの問題のデバッグに役立つコマンドです。'
parent: Developers
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.summary }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">はじめに</h2>
    <p>MTR は、ネットワーク関連の問題を診断するための一般的なツールです。<code translate="No">ping</code><code translate="No">traceroute</code>コマンドとコマンドの機能が組み合わされています。MTR レポートを送信すると、場合によっては、ブライトコーブサポートが問題を解決するのに役立ちます。</p>
    <p>MTR のインストールについては、MTR <a href="https://xneelo.co.za/help-centre/website/how-to-run-an-mtr/"></a>の実行方法を参照してください。</p>
    <aside class="bcls-aside bcls-aside--information language-editable">Homebrew は現在、MTR を非パスディレクトリ（少なくとも Mac 上）にインストールすることに注意してください。MTRを実行できるようにするには、ターミナルで次の操作を行う必要があります。
<pre class="line-numbers"><code class="language-bash" translate="No">cd /usr/local/Cellar/mtr/
# to get the version number - in this case 0.94 - and cd into that directory's /sbin directory
ls
cd 0.94/sbin
# now copy mtr to the path
sudo cp mtr /usr/local/bin
</code></pre>
      <p>これで実行できるようになります<code translate="No">sudo mtr</code>（<code translate="No">sudo</code>使用が必要です）</p>
    </aside>
    <p>以下の手順では、Wireshark の基本的なインストールと使用について説明します。</p>
  </section>
  <section class="bcls-section">
    <h2 id="using_wireshark">MTRを使用する</h2>
    <p>以下の手順は、Mac OS で MTR をコマンドラインアプリケーションとして実行していることを前提としています。代わりに WinMTR を実行している場合、唯一の違いは、単に実行するのではなく、分析するドメインまたは IP アドレスを入力することです<code translate="No">mtr {domain or IP address}</code>。</p>
    <ol class="bcls-tasklist">
      <li>ターミナルを起動します。</li>
      <li>
        次のコマンドを入力します。
        <pre class="line-numbers"><code class="language-bash" translate="No">sudo mtr players.brightcove.net</code></pre>
      </li>
      <li>
        次のようなディスプレイが表示されるはずです。
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-display.png" alt="MTR Display">
          <figcaption class="bcls-caption--image">MTRディスプレイ</figcaption>
        </figure>
      </li>
      <li>
        データ表示の上にリストされているコマンドに注意するか、を押します <samp translate="No">H</samp> 使用可能なすべてのコマンドを表示するには：
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-commands.png" alt="MTR Commands">
          <figcaption class="bcls-caption--image">MTR コマンド</figcaption>
        </figure>
      </li>
      <li>
        ターミナルから必要な情報をコピーして貼り付けます。
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/developer/mtr-data.png" alt="Copy MTR Data">
          <figcaption class="bcls-caption--image">MTR データのコピー</figcaption>
        </figure>
      </li>
      <li>あなたは押すことができます <samp translate="No">Q</samp> いつでもMTRを停止する。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Using_mtr_with_Live">ライブでのMTRの使用</h2>
    <p>ライブストリームでMTRを使用することは、VODを分析するために使用することと似ていますが、MTRがICMP要求パケットを送信し、ほとんどのインターネットデバイスがICMPベースのトレース要求の優先順位を下げ、パケット損失の錯覚を引き起こす可能性のあるICMPトラフィックを意図的に抑制しているため少し異なります。</p>
    <p>さらに、入力と出力の両方で問題が発生する可能性があるため、RTMPURLと再生URLの両方でMTRを実行する必要があります。</p>
    <p>接続の問題を適切にトラブルシューティングするには、TCPベースのトレースを実行する必要があります。以下は、MacユーザーのRMTPURLで実行される例です。</p>
    <pre><code class="language-bash" translate="No">sudo mtr -n -T -c 200 <span class="bc-highlight">1a244fa8f08a464e869695dd01c890d6.sep.bcovlive.io</span> --report</code></pre>

    <p>強調表示された部分は、<strong></strong>ライブモジュールに表示されるエンドポイント URL から抽出されたライブ再生ドメインです。</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/developer/live-domain-for-mtr.png" alt="Playback URL">
      <figcaption class="bcls-caption--image">再生URL</figcaption>
    </figure>

    <h3>サンプル出力</h3>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/developer/mtr-sample-response.png" alt="Sample MTR Output for Live">
      <figcaption class="bcls-caption--image">ライブ用のサンプルMTRコマンドと出力</figcaption>
    </figure>
  </section>
</article>