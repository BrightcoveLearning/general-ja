---
title: 'Ooyala-ビデオクラウド取り込みアダプター：XML マニフェストファイル'
parent: Migrating from Ooyala
---
 <h1>Ooyala ビデオクラウド取り込みアダプタ:XML マニフェストファイル</h1>
<article class="bcls-article">
  <summary>引き続き XML マニフェストで FTP、Aspera、または MRSS を使用して Video Cloud に動画を取り込むことができます。このトピックでは、XML の構造について説明します。</summary>
  <aside class="bcls-aside bcls-aside--information">注:このトピックは、Video Cloud に移行した Ooyala <strong></strong>のお客様にのみ適用されます。</aside>
  
  <section class="bcls-section">
    <h2 id="introduction">はじめに</h2>
    <p class="shortdesc">ビデオを取り込むときは、XML マニフェストファイルを使用して、追加のメタデータ（動画のタイトル、説明、フライト時間、ラベル、カスタムメタデータを含む）、およびサムネイルファイルとクローズドキャプションファイルを指定できます。FTP、Aspera、または MRSS を使用してコンテンツを取り込む場合は、XML マニフェストファイルを使用できます。</p>
    <div class="note note"><span class="notetitle">注:</span>このトピックは OIS v2.5 に適用されます。</div>
  </section>
  <section class="bcls-section">
    <h2 id="Handling_of_metadata">メタデータの処理</h2>
    <p><code translate="No">metadata</code>取り込み時にビデオに含めると、次の 2 つの方法のいずれかで Video Cloud ビデオフィールドにマッピングされます。</p>
    <ol>
      <li><strong>デフォルトでは</strong>、<code translate="No">metadata</code>各キー/値のペアは <em>tag</em> の形で: <code translate="No">meta::key::value</code>。たとえば、<code translate="No">&lt;ooyala:metadata name="category"&gt;cooking&lt;/ooyala:metadata&gt;</code>タグが生成されます。<code translate="No">meta::category::cooking</code></li>
      <li><code translate="No">custom_fields</code>メタデータの保存に使う場合は、ブライトコーブサポートがアカウントの設定を変更してそのようにすることができます。次の点に注意してください。
        <ul>
          <li>メタデータキーに対応する名前を持つカスタムフィールドを作成する必要があります。</li>
          <li>カスタムフィールドの数は既定で 10 に制限されています。そのため、メタデータを格納するためにそれ以上のカスタムフィールドが必要な場合は、サポートから追加のカスタムフィールドを要求する必要があります。</li>
          <li>各メタデータ項目に対応するカスタム項目がアカウントに存在しない場合、メタデータ操作全体が失敗します。</li>
        </ul>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="XML_Manifest_Elements">XML マニフェスト要素</h2>
    <p>XML マニフェストファイルでは、次の要素を使用できます。</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">
      XML マニフェスト要素
      </caption>
      <thead class="bcls-table__head" align="left">
        <tr>
          <th class="entry" valign="top" width="9.343065693430658%" id="d1041772e39">XML タグ</th>
          <th class="entry" valign="top" width="36.496350364963504%" id="d1041772e42">説明</th>
          <th class="entry" valign="top" width="46.86131386861314%" id="d1041772e45">必須/オプション</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><samp translate="No">&lt;チャンネル &gt; </samp></td>
          <td>1 つ以上を含む <samp translate="No">&lt;アイテム &gt;</samp> 要素。</td>
          <td>必須</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;アイテム &gt;</samp></td>
          <td>取り込む単一のビデオを表します。複数の動画を指定できます（<samp translate="No">&lt;アイテム &gt;</samp> タグ）XMLマニフェストファイル内。このテーブルの残りのタグが含まれます。</td>
          <td>必須</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;メディア：コンテンツ&gt;</samp></td>
          <td>取り込むビデオを指定します。次のいずれかの操作を行います。
            <ul class="ul">
              <li>アップロードした動画のファイル名。</li>
              <li>MRSS を介した取り込み（「<a class="xref" title="You can use Media RSS (MRSS) to have Ooyala pull your content from your own system from an MRSS feed that you publish. Backlot pulls the metadata from the MRSS feed and either creates a remote asset or downloads (from where they are hosted) and processes the videos and any associated files (thumbnails, closed caption files, etc.)." href="/ooyala/ooyala-video-cloud-ingestion-adapter-ingesting-remotely-hosted-mrss-feed.html">リモートホストされた MRSS フィードからの取り込み</a>」を参照）では、ビデオが配置されている URL。URLには次のものを含めることができます <samp translate="No">http：//</samp> または <samp translate="No">https：//</samp>。</li>
            </ul>
            リモートアセットの場合は、 <samp translate="No">&lt;ooyala：remoteasset&gt;</samp> 代わりは。</td>
          <td>必須（リモートアセットを除く）</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;メディア：タイトル&gt;</samp></td>
          <td>ビデオの名前またはタイトル。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;メディア：サムネイル&gt;</samp></td>
          <td>サムネイル (プレビューイメージ) を指定します。次のいずれかの操作を行います。
            <ul class="ul">
              <li>アップロードしたサムネイルのファイル名。</li>
              <li>サムネイルが配置されている URL。URLには次のものを含めることができます <samp translate="No">http：//</samp> または <samp translate="No">https：//</samp>。</li>
            </ul></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;メディア：subTitle&gt;</samp></td>
          <td>クローズドキャプションファイルを指定します（DFXP、WebVTT、および SRT ファイルでサポートされます）。<a class="xref" title="You can ingest closed caption files via Backlot or the Ooyala Ingestion Service (OIS)." href="/ooyala/migrating-video-cloud-ingestion-adapter.html">クローズドキャプションファイルの取り込みを参照してください</a>。属性:
            <ul class="ul">
              <li><samp translate="No">href</samp> （必須）-次のいずれか：
                <ul class="ul">
                  <li>アップロードしたクローズドキャプションファイルのファイル名。例： <samp translate="No">キャプション-1.dfxp</samp></li>
                  <li>クローズドキャプションファイルが格納されている URL。URLには次のものを含めることができます <samp translate="No">http：//</samp> または <samp translate="No">https：//</samp>。</li>
                </ul>
                <samp translate="No">lang</samp> （オプション）-クローズドキャプションファイルの言語。2 文字のコード。<a class="xref" title="Before uploading closed caption files to Backlot, verify that you are using a supported language and file format." href="/ooyala/migrating-video-cloud-ingestion-adapter.html">サポートされているクローズドキャプションを参照してください</a>。</li>
              <li><samp translate="No">フレームレート</samp> （オプション）-クローズドキャプションファイルのフレームレート。単位はフレーム/秒 (FPS) です。デフォルトは 30 です。古いクローズドキャプションファイルは 24 である可能性があります。</li>
            </ul>
            <div class="note note"><span class="notetitle">注:</span>指定されている場合、有効な値を提供するのはあなたの責任です <samp translate="No">lang</samp> かつ <samp translate="No">フレームレート</samp>。有効な値は DFXP ファイルに追加されます。非準拠の値は無視されます。どちらの方法でも、クローズドキャプションファイルが Backlot に追加され、アセットにリンクされます。</div></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;メディア：説明&gt;</samp></td>
          <td>ビデオの説明。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;リンク&gt;</samp></td>
          <td>ビデオを埋め込む永続的な URL。作成されたアセットにマップします <samp translate="No">hosted_at</samp> 財産。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;dcterms: 有効 &gt;</samp></td>
          <td>アセットを再生できる開始時間と終了時間を表すフライト時間。例：
            <pre class="pre codeblock">
   &lt;  dcterms: valid&gt;start=2011-06-28T 15:15:00-07:00; end=2022-12-01T 16:00:00-07:00; scheme=w3c-dtf  &lt;  /dcterms: valid &gt;</pre></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;ooyala：labels&gt;</samp></td>
          <td>カンマで区切られた 1 つ以上のラベル。例： <samp translate="No">/ sports、/ sports / jogging</samp>。背景については、「<a class="xref" title="When added to external publishing targets, labels specify which videos, channels, and channel sets to publish externally." href="/ooyala/migrating-video-cloud-ingestion-adapter.html">ラベル</a>」を参照してください。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;メディア：キーワード&gt;</samp></td>
          <td>ラベルを定義する別の方法（スラッシュなし）。コンマで区切られたコンテンツは、動画にタグとして追加されます。新しいタグは、同じ名前のタグがまだ存在しない場合にのみ作成されます。
            <p>たとえば、次の場合 <samp translate="No">&lt;メディア：キーワード&gt;</samp> タグ、ラベル <samp translate="No">label1</samp> かつ <samp translate="No">label2</samp> 作成され、タグとしてビデオに追加されます。名前の付いたラベル <samp translate="No">親ラベル</samp> ラベル付きで作成されます <samp translate="No">チャイルドラベル</samp> その中にネストされています。</p>
            <pre class="pre codeblock">
   &lt; メディア:キーワード &gt; ラベル 1、ラベル 2、親ラベル/子ラベル &lt;  /メディア：キーワード &gt;</pre>
            <div class="note note"><span class="notetitle">注:</span>の内容 <samp translate="No">&lt;メディア：キーワード&gt;</samp> が無視される場合 <samp translate="No">&lt;ooyala：labels&gt;</samp> タグは、XMLマニフェストファイルまたはMRSSに含まれています。</div></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;ooyala：embedcode&gt;</samp></td>
          <td>Video Cloud動画 ID。</td>
          <td>オプション（新しい動画を追加するのではなく、動画を更新する場合は必須）</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;ooyala：profileguid&gt;</samp></td>
          <td>処理プロファイルの ID。トランスコーディング中にマスタービデオを変換する必要がある形式を定義するエンコードのグループです。詳細については、Ooyala サポート担当者にお問い合わせください。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;ooyala：メタデータ&gt;</samp></td>
          <td>ビデオのカスタムメタデータ。メタデータのタイプごとに 1 つの要素を持つことができます。を参照してください<a href="#Handling_of_metadata">メタデータの処理</a>方法の詳細についてはセクション<code translate="No">metadata</code>特別なタグとして動画に追加されます。例: <code translate="No">&lt;ooyala:metadata name="category"&gt;cooking&lt;/ooyala:metadata&gt;</code></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;ooyala：remoteasset&gt;</samp></td>
          <td>取り込むリモートアセットを指定します。リモートアセットとは、Backlot 以外の場所でホストされている動画です。次の属性を指定します。
            <ul class="ul">
              <li><samp translate="No">期間InMs</samp>: メディア継続時間 (ミリ秒)</li>
              <li><samp translate="No">url</samp>:リモートアセットの URL。URLには次のものを含めることができます <samp translate="No">http：//</samp> または <samp translate="No">https：//</samp>。</li>
            </ul>
            この設定は、の値にマップされます <samp translate="No">hosted_at</samp> リモートアセットのプロパティ。例： <samp translate="No"> &lt;  ooyala: remoteasset durationinms='5000'  url=」http://your_website/your_remote_assets.mp4 "/&gt;</samp>
            <div class="note note"><span class="notetitle">注:</span>リモートアセットが作成された後、さまざまな CDN への伝播が 60 秒以上遅れることがあります。リモートアセットの作成後にあまりにも早く要求すると、結果は CDN によってキャッシュされ、クリアには数分かかる場合があります。ベストプラクティス:作成後 30 秒または 60 秒待って、<span class="ph"> Backlot API でクエリを実行します。</span> <samp translate="No">[GET] /v2/assets/<var class="keyword varname">asset_id</var></samp> ルートを設定し、リモートアセットの埋め込みコード（コンテンツIDまたはアセットID）を取得した後、アセットの埋め込みに進みます。</div></td>
          <td>必須（リモートアセットのみ）</td>
        </tr>
        <tr>
          <td><samp translate="No">&lt;ooyala：profileguid&gt;</samp></td>
          <td>ビデオ処理に使用する Video Cloud インジェストプロファイルを指定します。アカウントのデフォルトプロファイルを使用しない場合は、代わりに使用するプロファイルを指定する必要があります。「<a href="https://studio.support.brightcove.com/admin/managing-ingest-profiles.html">取り込みプロファイルの管理」を参照してください</a>。</td>
          <td>オプショナル</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="example">例</h2>
    <p><strong class="ph b">XML マニフェストファイルの例 (OIS v2.5)</strong></p>
    <pre class="pre codeblock">
   &lt; ？xml version= "1.0" エンコーディング=" utf-8"？&gt;  &lt;  rss version= "2.0" xmlns: media=」http://search.yahoo.com/mrss/ "xmlns: dcterms=」http://purl.org/dc/terms/ "xmlns: fh=」"xmlns: ooyala=」vech「&gt; http://purl.org/syndication/history/1.0 http://www.ooyala.com/mrss/  &lt;  channel  &lt;  &gt; アイテム &gt;  &lt; メディア:コンテンツ url=」test.mp4 "&gt;  &lt;  /メディア:コンテンツ &gt;  &lt; メディア:subtitle href= "my_caption.dfxp" &gt;  &lt;  /media: subtitle &gt;  &lt;  media: サムネイル url=」my_thumbnail.jpg "filesize=" 35712"&gt;  &lt;  /media: サムネイル &gt;  &lt;  media: title &gt;テスト XML  &lt;  /メディア:タイトル &gt;  &lt; メディア:説明&gt;これは例である &lt;  /media: 説明 &gt;  &lt;  ooyala: labels &gt;/test, /example,  &lt;  /xml /ooyala: labels &gt;  &lt;  dcterms: valid&gt;start=2016-01T 15:15:00-07:00; end=202-01-01T 16:00:00-07:00  &lt;  /dcterms: 有効 &gt;  &lt;  ooyala: profileguid &gt;57d5a5a10f654fe79ef954ef954dc8d29a108  &lt;  /ooyala: profileguid &gt;  &lt;  /item &gt;  &lt;  /channel &gt;  &lt;  /rss &gt;</pre>
  </section>
  <section class="bcls-section">
    <h2 id="step_by_step">ステップバイステップ</h2>
    <p><strong class="ph b">XML マニフェストファイルの作成</strong></p>
    <p>XMLメタデータ・ファイルを作成するには、次の手順に従います。</p>
    <ol class="bcls-tasklist">
      <li>動画やその他のコンテンツ（サムネイル、クローズドキャプションファイルなど）をアップロードします。</li>
      <li>XML を検証するテキストエディタ (できれば) を開きます。</li>
      <li>必要な XML ヘッダーを追加します。例は次のとおりです。
        <pre class="pre codeblock">
   &lt; ？xml version= "1.0" エンコーディング=" utf-8"？&gt;  &lt;  rss version= "2.0" xmlns: media=」http://search.yahoo.com/mrss/ "xmlns: dcterms=」http://purl.org/dc/terms/ "xmlns: fh=」"xmlns: ooyala=」vech「&gt; http://purl.org/syndication/history/1.0 http://www.ooyala.com/mrss/</pre>
      </li>
      <li>を作成します <samp translate="No">チャネル</samp> 容器。</li>
      <li>を作成します <samp translate="No">アイテム</samp> 上記の表の必要な要素を含む、各ビデオのエントリ。
        <p>次の例では、XML は 2 つのビデオのメタデータを指定します。最初の動画では、ファイルとサムネイルはアップロードサーバー上に配置され、そのサーバーから取り出されます。2 番目のビデオでは、ファイルとサムネイルがすでに Ooyala サーバーにアップロードされています。2番目のビデオには飛行時間もあります。</p>
        <pre class="pre codeblock">
   &lt; ？xml version= "1.0" エンコーディング=" utf-8"？&gt;  &lt;  rss version= "2.0" xmlns: media=」http://search.yahoo.com/mrss/ "xmlns: dcterms=」http://purl.org/dc/terms/ "xmlns: fh=」"xmlns: ooyala=」vech「&gt; http://purl.org/syndication/history/1.0 http://www.ooyala.com/mrss/  &lt;  channel&gt;  &lt;  item&gt;  &lt;  media: content url=」http://mysite.com/upload/lacrosse_70.mov "/&gt;  &lt;  media: サムネール url=」http://mysite.com/upload/lacrosse_70_previewimage.jpg "/&gt;  &lt; メディア:title&gt;本当に存在するスポーツ:ラクロス &lt;  /メディア:タイトル &gt;  &lt; メディア:説明 &gt;私のビデオの私の説明 &lt;  /メディア:説明 &gt;  &lt;  ooyala: ラベル &gt;/スポーツ/ラクロス,/趣味/ラクロス &lt;  /ooyala: ラベル &gt;  &lt; リンク &gt; http://mysite.com/videos/sports/real_sports.html  &lt;  /リンク &gt;  &lt;  ooyala: メタデータ名=」Video_ID "&gt;70  &lt;  /ooyala: メタデータ &gt;  &lt;  ooyala: メタデータ名=" season_number" &gt;1  &lt;  /ooyala: メタデータ &gt;  &lt;  /アイテム &gt;  &lt;  item&gt;  &lt;  media: content url=」curling_71.mov "/&gt;  &lt; メディア:サムネイル url=」curling_71_previewimage.jpg "/&gt;  &lt; メディア：タイトル&gt;本当に存在するスポーツ： &lt; カーリング/メディア:タイトル &gt;  &lt; メディア:説明 &gt;私のビデオの私の説明 &lt;  /メディア:説明 &gt;  &lt;  ooyala: ラベル &gt;/スポーツ/カーリング,/趣味/カーリング &lt;  /ooyala: ラベル &gt;  &lt; リンク&gt; http://mysite.com/videos/sports/real_sports.html  &lt;  /リンク &gt;  &lt;  ooyala: メタデータ名=」Video_id "&gt;71  &lt;  /ooyala: メタデータ &gt;  &lt;  ooyala: メタデータ名=" season_number" &gt;1  &lt;  /ooyala: メタデータ &gt;  &lt;  !— 飛行時間を設定する —&gt;  &lt;  dcterms: valid&gt;start=2011-06-28T 15:15:00-07:00; end=2022-12-01T 16:00:00-07:00; scheme=w3c-dtf  &lt;  /dcterms: valid &gt;  &lt;  /item &gt;  &lt;  /channel &gt;  &lt;  /rss &gt;    </pre>
      </li>
      <li><span>ファイルを XML として保存します。必ず一意の名前を指定してください。同じ名前のファイルを 2 つ指定し、もう一方のファイルを処理中にアップロードすると、2 番目のファイルは無視されることがあります。</span></li>
      <li><span>選択したアップロード方法を使用して、ビデオのアップロード時にXMLマニフェストファイルをアップロードします。<a class="xref" title="You can use FTPS (recommended) or FTP (deprecated) to upload videos, thumbnails, closed captions, and manifest files to Backlot." href="/ooyala/ooyala-video-cloud-ingestion-adapter-ingesting-ftps.html">FTP</a>または<a class="xref" title="You can use Aspera file transfer software to upload videos, thumbnails, closed captions and manifest files to Backlot." href="/ooyala/ooyala-video-cloud-ingestion-adapter-ingesting-aspera.html"> Aspera を参照してください</a>。</span></li>
    </ol>
  </section>
</article>