---
title: 'Ooyala-ビデオクラウド取り込みアダプター：CSV マニフェストファイル'
parent: Migrating from Ooyala
---
 <h1>Ooyala ビデオクラウド取り込みアダプタ:CSV マニフェストファイル</h1>
<article class="bcls-article">
  <summary>CSV マニフェストで FTP または Aspera を引き続き使用して、動画を Video Cloud に取り込むことができます。このトピックでは、CSV の構造について説明します。</summary>
  <aside class="bcls-aside bcls-aside--information">注:このトピックは、Video Cloud に移行した Ooyala <strong></strong>のお客様にのみ適用されます。</aside>
  
  <section class="bcls-section">
    <h2 id="introduction">はじめに</h2>
    <p>動画を取り込む場合、CSV マニフェストファイルを使用して、追加のメタデータ（動画のタイトル、説明、フライト時間、ラベル、カスタムメタデータを含む）だけでなく、サムネイルファイルやクローズドキャプションファイルも指定できます。FTP または Aspera でコンテンツを取り込む場合は、CSV マニフェストファイルを使用できます。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Limitations">制限事項</h2>
    <div class="note note"><span class="notetitle">注:</span>このトピックは OIS v2.5 に適用されます。</div>
    <p>メタデータファイルの CSV 形式がサポートされる機能は、XML 形式よりも少なくなります。CSV 形式では、動画に関連付けるサムネイル（プレビュー画像）とカスタムメタデータを指定できます。XML 形式では、これらの機能と、既存の広告セットの定義の名前の関連付けがサポートされています。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Handling_of_metadata">メタデータの処理</h2>
    <p><code translate="No">metadata</code>取り込み時にビデオに含めると、次の 2 つの方法のいずれかで Video Cloud ビデオフィールドにマッピングされます。</p>
    <ol>
      <li><strong>デフォルトでは</strong>、<code translate="No">metadata</code>各キー/値のペアは <em>tag</em> の形で: <code translate="No">meta::key::value</code>。たとえば、<code translate="No">&lt;ooyala:metadata name="category"&gt;cooking&lt;/ooyala:metadata&gt;</code>タグが生成されます。<code translate="No">meta::category::cooking</code></li>
      <li><code translate="No">custom_fields</code>メタデータの保存に使う場合は、ブライトコーブサポートがアカウントの設定を変更してそのようにすることができます。次の点に注意してください。
        <ul>
          <li>メタデータキーに対応する名前を持つカスタムフィールドを作成する必要があります。</li>
          <li>カスタムフィールドの数は既定で 10 に制限されています。そのため、メタデータを格納するためにそれ以上のカスタムフィールドが必要な場合は、サポートから追加のカスタムフィールドを要求する必要があります。</li>
          <li>各メタデータ項目に対応するカスタム項目がアカウントに存在しない場合、メタデータ操作全体が失敗します。</li>
        </ul>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="CSV_Manifest_Column_Headings">CSV マニフェスト列の見出し</h2>
    <p>次のフィールドは、CSV ファイルの最初の行（列見出し）で、実際のデータフィールドは後続の行に続く（ビデオごとに 1 行）。</p>
    <div class="note note"><span class="notetitle">注:</span>これらの列は任意の順序で指定でき、データ行のデータが見出しと正確に一致する限り、不要な列は省略できます。</div>
    <table class="bcls-table">
      <caption class="bcls-caption--table">
      CSV マニフェスト列の見出し
      </caption>
      <thead class="bcls-table__head">
        <tr>
          <th>列見出し</th>
          <th>説明</th>
          <th>必須/オプション</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><samp translate="No">動画</samp></td>
          <td>ビデオのファイル名またはビデオが配置されている URL。URLには次のものを含めることができます <samp translate="No">http：//</samp> または <samp translate="No">https：//</samp>。</td>
          <td>必須</td>
        </tr>
        <tr>
          <td><samp translate="No">タイトル</samp></td>
          <td>ビデオの名前またはタイトル。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">サムネイル</samp></td>
          <td>サムネイルのファイル名またはサムネイルが配置されている URL。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">content_type</samp></td>
          <td>コンテンツタイプ（ビデオまたはリモートアセット）。ビデオ列で指定されたファイル名がビデオが配置されているURLであり、リモートアセットを定義する場合は、content_type列の値を変更します（から <samp translate="No">動画</samp>、デフォルト）から <samp translate="No">content_type = remoteeasset</samp>。</td>
          <td>必須（リモートアセットのみ）</td>
        </tr>
        <tr>
          <td><samp translate="No">説明</samp></td>
          <td>ビデオの説明。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">hosted_at</samp></td>
          <td>ビデオを埋め込む永続的な URL。の値にマップします <samp translate="No">hosted_at</samp> リモートアセットのプロパティ。
            <div class="note note"><span class="notetitle">注:</span>リモートアセットが作成された後、さまざまな CDN への伝播が 60 秒以上遅れることがあります。リモートアセットの作成後にあまりにも早く要求すると、結果は CDN によってキャッシュされ、クリアには数分かかる場合があります。ベストプラクティス:作成後 30 秒または 60 秒待って、<span class="ph"> Backlot API でクエリを実行します。</span> <samp translate="No">[GET] /v2/assets/<var class="keyword varname">asset_id</var></samp> ルートを設定し、リモートアセットの埋め込みコード（コンテンツIDまたはアセットID）を取得した後、アセットの埋め込みに進みます。</div></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">flight_start_time</samp></td>
          <td>アセットを再生できる開始時間（UTC）。例： <samp translate="No">2011-06-01T00：00：00Z</samp></td>
          <td>必須（場合のみ） <samp translate="No">flight_end_time</samp>指定）</td>
        </tr>
        <tr>
          <td><samp translate="No">flight_end_time</samp></td>
          <td>アセットを再生できる終了時間（UTC）。例： <samp translate="No">2011-07-01T00：00：00Z</samp></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">期間InMs</samp></td>
          <td>（OS v2.5のみ）ビデオの長さを表す時間（ミリ秒単位）。必要な場合 <samp translate="No">content_type = remoteeasset</samp>。</td>
          <td>必須（リモートアセットのみ）</td>
        </tr>
        <tr>
          <td><samp translate="No">ラベル</samp></td>
          <td>カンマで区切られた 1 つ以上のラベル。例は次のとおりです。 <samp translate="No">/ sports、/ sports / jogging</samp>。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">メタデータ</samp></td>
          <td>ビデオのカスタムメタデータ。メタデータのタイプごとに 1 つの列を設定できます。を参照してください<a href="#Handling_of_metadata">メタデータの処理</a>上記のセクションで、メタデータがVideoCloudビデオフィールドにどのようにマッピングされるかを確認してください。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">埋め込みコード</samp></td>
          <td>(予約済み)。動画アセットの Backlot 内のコンテンツ ID。</td>
          <td>予約済み</td>
        </tr>
        <tr>
          <td><samp translate="No">id</samp></td>
          <td>作成したアセットの外部 ID プロパティにマップします。コンテンツ ID の代わりに使用できるカスタム識別子です。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">字幕</samp></td>
          <td class="entry" id="ingestion_ftp_csv__subtitle" valign="top" width="71.42857142857143%" headers="d1039925e42 ">クローズドキャプションファイルを指定します (DFXP ファイルでのみサポート)。次のいずれかの操作を行います。
            <ul>
              <li>アップロードしたクローズドキャプションファイルのファイル名。例： <samp translate="No">&lt;media：subTitle href = "caption-1.dfxp" /&gt;</samp></li>
              <li>クローズドキャプションファイルが格納されている URL。URLには次のものを含めることができます <samp translate="No">http：//</samp> または <samp translate="No">https：//</samp>。</li>
            </ul>
            <p><a title="You can ingest closed caption files via Backlot or the Ooyala Ingestion Service (OIS)." href="/ooyala/migrating-video-cloud-ingestion-adapter.html">クローズドキャプションファイルの取り込みを参照してください</a>。</p></td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">subTitle：lang</samp></td>
          <td>(オプション)-クローズドキャプションファイルの言語。2 文字の言語コード。/td &gt;</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">subTitle：frameRate</samp></td>
          <td>（オプション）-クローズドキャプションファイルのフレームレート。単位はフレーム/秒 (FPS) です。デフォルトは 30 です。古いクローズドキャプションファイルは 24 である可能性があります。</td>
          <td>オプショナル</td>
        </tr>
        <tr>
          <td><samp translate="No">profileguid</samp></td>
          <td>処理プロファイルの ID。トランスコーディング中にマスタービデオを変換する必要がある形式を定義するエンコードのグループです。デフォルトの Video Cloud 取り込みプロファイルを使用しない場合は、使用するプロファイルの ID を含める必要があります。「<a href="https://studio.support.brightcove.com/admin/managing-ingest-profiles.html">取り込みプロファイルの管理」を参照してください</a>。</td>
          <td>オプショナル</td>
        </tr>
      </tbody>
    </table>
    <p class="p"><strong class="ph b">CSV マニフェストファイルの例 (OIS v2.5)</strong></p>
    <pre class="line-numbers">
  <code class="language-bash" translate="No">
  video,title,description,labels,hosted_at,id,thumbnail,subTitle,flight_start_time,flight_end_time,profileguid
  test.mp4,Test CSV,This is an example,"test,example,csv",http://www.ooyala.com,my_test_guid_csv,my_thumbnail.jpg,my_caption.dfxp,2016-01-01T15:15:00-07:00,2022-01-01T16:00:00-07:00,57d5a5a10f654fe79ef954dc8d29a108
  </code></pre>
    <div class="fig fignone"><img class="image" id="ingestion_ftp_csv__ingest_ftpvideo_csv" height="91" width="1135" src="/assets/images/ooyala/ingest_ftp_video_csv.png" /></div>
    <p class="p"><strong class="ph b">CSV マニフェストファイルの作成</strong></p>
    <p class="p">CSV メタデータファイルを生成するときは、次の点に注意してください。</p>
    <ul>
      <li>データフィールドのテキスト値にカンマ (,) が含まれている場合は、フィールドを二重引用符 (「) で囲む必要があります。</li>
      <li>データフィールドのテキスト値に二重引用符（「）が含まれている場合は、フィールドを二重引用符で囲み、テキストフィールドの二重引用符を2番目の引用符でエスケープする必要があります（例：「She say,「" Hae a nice day.「"」)</li>
    </ul>
    <p class="p">Excel から CSV メタデータファイルを作成している場合は、自動的にエスケープ処理が行われます。</p>
    <p class="p">CSVメタデータファイルを作成するには、次の手順に従います。</p>
    <ol class="bcls-tasklist">
      <li>1 つ以上の動画をアップロードします。</li>
      <li>Microsoft Excel などのスプレッドシートプログラムを開きます。</li>
      <li>最初の行に列見出しを追加します。</li>
      <li>ビデオごとに行を追加します。</li>
      <li>ファイルを CSV 形式で保存します。たとえば、[ <strong>ファイル]</strong>メニューから [ <strong></strong>名前を付けて保存] を選択します。プロンプトが表示されたら、カンマ区切り値のファイルタイプを選択します。</li>
      <li><span>選択したアップロード方法で、動画をアップロードした時にCSVファイルをアップロードします。<a title="You can use FTPS (recommended) or FTP (deprecated) to upload videos, thumbnails, closed captions, and manifest files to Backlot." href="/ooyala/ooyala-video-cloud-ingestion-adapter-ingesting-ftps.html">FTP</a>または<a title="You can use Aspera file transfer software to upload videos, thumbnails, closed captions and manifest files to Backlot." href="/ooyala/ooyala-video-cloud-ingestion-adapter-ingesting-aspera.html"> Aspera を参照してください</a>。</span></li>
    </ol>
  </section>
</article>